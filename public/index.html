<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- Main Page -->
        <div id="main-page" class="page active">
            <img src="logo.png" alt="Logo" class="centered-logo">
            <div class="buttons">
                <button onclick="navigateTo('leader-page')">Leader</button>
                <button onclick="navigateTo('player-page')">Player</button>
            </div>
            <button class="delete-button" onclick="resetGame()">Reset Game</button>
        </div>

        <!-- Leader Page -->
        <div id="leader-page" class="page">
            <h2 class="centered-text">Leader Access</h2>
            <div id="password-setup" style="display: none;">
                <p>Create a password:</p>
                <input type="password" id="new-password" placeholder="Enter new password">
                <button onclick="savePassword()">Save Password</button>
                <button class="back-button" onclick="navigateTo('main-page')">Back</button>
            </div>
            <div id="password-input" style="display: none;">
                <p>Enter your password:</p>
                <input type="password" id="existing-password" placeholder="Enter password">
                <button onclick="validatePassword()">Submit</button>
                <button class="back-button" onclick="navigateTo('main-page')">Back</button>
            </div>
            <div id="leader-content" style="display: none;">
                <h2 class="centered-text">Welcome Leader</h2>
                <button onclick="navigateTo('create-task-page')">Create Task</button>
                <button onclick="navigateTo('view-current-task-page')">View Current Task</button>
                <button onclick="navigateTo('points-page')">View Points</button>
                <button class="back-button" onclick="navigateTo('main-page')">Back</button>
            </div>
        </div>

        <!-- Create Task Page -->
        <div id="create-task-page" class="page">
            <h2 class="centered-text">Create Task</h2>
            <button id="troop1-task-button" onclick="navigateTo('troop1-task-page')">Troop 1</button>
            <button id="troop2-task-button" onclick="navigateTo('troop2-task-page')">Troop 2</button>
            <button class="back-button" onclick="navigateTo('leader-page')">Back</button>
        </div>

        <!-- Troop 1 Task Page -->
        <div id="troop1-task-page" class="page">
            <h2 class="centered-text">Task for Troop 1</h2>
            <form id="troop1-task-form">
                <label for="task-description">Task Description:</label>
                <textarea id="task-description" placeholder="Describe the task"></textarea>

                <label for="submission-details">Submission Details:</label>
                <textarea id="submission-details" placeholder="Explain submission requirements"></textarea>

                <label for="time">Time (in minutes):</label>
                <input type="number" id="time" placeholder="Enter time in minutes">

                <label for="reward-details">Reward Details:</label>
                <input type="number" id="reward-details" placeholder="Enter reward amount">

                <label for="latitude">Latitude:</label>
                <input type="text" id="latitude-troop1" placeholder="Latitude" readonly>

                <label for="longitude">Longitude:</label>
                <input type="text" id="longitude-troop1" placeholder="Longitude" readonly>

                <button type="button" onclick="extractCoordinates('troop1')">Extract Coordinates</button>

                <button type="button" onclick="saveTask('troop1')">Next</button>
            </form>
            <button class="back-button" onclick="navigateTo('create-task-page')">Back</button>
        </div>

        <!-- Troop 2 Task Page -->
        <div id="troop2-task-page" class="page">
            <h2 class="centered-text">Task for Troop 2</h2>
            <form id="troop2-task-form">
                <label for="task-description">Task Description:</label>
                <textarea id="task-description" placeholder="Describe the task"></textarea>

                <label for="submission-details">Submission Details:</label>
                <textarea id="submission-details" placeholder="Explain submission requirements"></textarea>

                <label for="time">Time (in minutes):</label>
                <input type="number" id="time" placeholder="Enter time in minutes">

                <label for="reward-details">Reward Details:</label>
                <input type="number" id="reward-details" placeholder="Enter reward amount">

                <label for="latitude">Latitude:</label>
                <input type="text" id="latitude-troop2" placeholder="Latitude" readonly>

                <label for="longitude">Longitude:</label>
                <input type="text" id="longitude-troop2" placeholder="Longitude" readonly>

                <button type="button" onclick="extractCoordinates('troop2')">Extract Coordinates</button>

                <button type="button" onclick="saveTask('troop2')">Next</button>
            </form>
            <button class="back-button" onclick="navigateTo('create-task-page')">Back</button>
        </div>

        <!-- View Current Task Page -->
        <div id="view-current-task-page" class="page">
            <h2 class="centered-text">Current Task</h2>
            <div id="current-task-details">
                <h3>Troop 1 Task:</h3>
                <p id="troop1-task-description"></p>
                <h3>Troop 2 Task:</h3>
                <p id="troop2-task-description"></p>
            </div>
            <h3>Choose Winner:</h3>
            <button onclick="declareWinner('troop1')">Troop 1 Wins</button>
            <button onclick="declareWinner('troop2')">Troop 2 Wins</button>
            <button class="back-button" onclick="navigateTo('leader-page')">Back</button>
        </div>

        <!-- Points Page -->
        <div id="points-page" class="page">
            <h2 class="centered-text">Points</h2>
            <div id="points-display">
                <h3>Troop 1 Points:</h3>
                <p id="troop1-points">0</p>
                <h3>Troop 2 Points:</h3>
                <p id="troop2-points">0</p>
            </div>
            <button class="back-button" onclick="navigateTo('leader-page')">Back</button>
        </div>

        <!-- Player Page -->
        <div id="player-page" class="page">
            <h2 class="centered-text">Choose Your Troop</h2>
            <div id="troop-selection">
                <button onclick="selectTroop('troop1')">Troop 1</button>
                <button onclick="selectTroop('troop2')">Troop 2</button>
                <button class="back-button" onclick="navigateTo('main-page')">Back</button>
            </div>
            <div id="troop-setup" style="display: none;">
                <p>Rename your troop:</p>
                <input type="text" id="troop-name" placeholder="Enter new troop name">
                <p>Create a password:</p>
                <input type="password" id="troop-password" placeholder="Enter password">
                <button onclick="saveTroop()">Save Troop</button>
                <button class="back-button" onclick="navigateTo('player-page')">Back</button>
            </div>
            <div id="troop-login" style="display: none;">
                <p>Enter your troop's password:</p>
                <input type="password" id="troop-login-password" placeholder="Enter password">
                <button onclick="validateTroopPassword()">Submit</button>
                <button class="back-button" onclick="navigateTo('player-page')">Back</button>
            </div>
            <div id="troop-content" style="display: none;">
                <h2 class="centered-text" id="troop-display-name">Welcome to Troop</h2>
                <!-- Timer -->
                <div class="distance-indicator" id="timer">00:00</div>
                <!-- Compass -->
                <div class="compass-module">
                    <div class="compass-base">
                        <div class="compass-markers">
                            <div class="north">N</div>
                            <div class="south">S</div>
                            <div class="east">E</div>
                            <div class="west">W</div>
                        </div>
                        <div class="compass-needle"></div>
                    </div>
                </div>
                <!-- Task Details -->
                <div id="task-details" style="display: none;">
                    <h3>Task Description:</h3>
                    <p id="task-description-player"></p>
                    <h3>Submission Details:</h3>
                    <p id="submission-details-player"></p>
                </div>
                <button class="back-button" onclick="navigateTo('player-page')">Back</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>